// TÃ¼m diller iÃ§in kategorileri tanÄ±mlayalÄ±m
export const categories = {
  tr: ['GÃ¼nlÃ¼k', 'Ä°ÅŸ/Okul', 'Spor', 'Seyahat', 'SaÄŸlÄ±k', 'Elektronik'],
  en: ['Daily', 'Work/School', 'Sports', 'Travel', 'Health', 'Electronics'],
};

// Kategori emojilerini tanÄ±mlayalÄ±m (tÃ¼m diller iÃ§in aynÄ± emoji kullanÄ±labilir)
export const categoryIcons = {
  'GÃ¼nlÃ¼k': 'ðŸ”‘',
  'Ä°ÅŸ/Okul': 'ðŸ“š',
  'Spor': 'ðŸ€',
  'Seyahat': 'âœˆï¸',
  'SaÄŸlÄ±k': 'ðŸ’Š',
  'Elektronik': 'ðŸ“±',
  // Ä°ngilizce
  'Daily': 'ðŸ”‘',
  'Work/School': 'ðŸ“š',
  'Sports': 'ðŸ€',
  'Travel': 'âœˆï¸',
  'Health': 'ðŸ’Š',
  'Electronics': 'ðŸ“±',
};

// Kategorilere gÃ¶re eÅŸyalarÄ± tanÄ±mlayalÄ±m
export const items = {
  tr: {
    'GÃ¼nlÃ¼k': [
      'ðŸ”‘ Anahtarlar',
      'ðŸ’³ CÃ¼zdan',
      'ðŸ“± Telefon',
      'ðŸ•¶ GÃ¶zlÃ¼k',
      'âŒšï¸ Saat',
      'ðŸ”‹ Powerbank',
      'ðŸ§´ El kremi',
      'ðŸ§¢ Åžapka',
      'â˜”ï¸ Åžemsiye',
      'ðŸ§£ AtkÄ±',
      'ðŸ§¤ Eldiven',
      'ðŸŽ’ SÄ±rt Ã‡antasÄ±',
      'ðŸª® Tarak/FÄ±rÃ§a',
      'ðŸ’¦ Su ÅžiÅŸesi'
    ],
    'Ä°ÅŸ/Okul': [
      'ðŸ’» Laptop',
      'ðŸ“ Defter',
      'ðŸ–Š Kalem',
      'ðŸ“‚ Dosyalar',
      'ðŸŽ§ KulaklÄ±k',
      'ðŸ”Œ Åžarj Aleti',
      'ðŸ’¼ Ã‡anta',
      'ðŸ“’ Ajanda',
      'ðŸ“ Cetvel',
      'ðŸ“ AtaÃ§/Toplu Ä°ÄŸne',
      'ðŸ“Ž ZÄ±mba',
      'ðŸ–¨ TaÅŸÄ±nabilir YazÄ±cÄ±',
      'ðŸ” BÃ¼yÃ¼teÃ§',
      'ðŸ“Œ Not KaÄŸÄ±tlarÄ±',
      'ðŸ—„ KlasÃ¶r',
      'ðŸ’¾ USB Bellek'
    ],
    'Spor': [
      'ðŸ‘Ÿ Spor AyakkabÄ±',
      'ðŸ Spor Ã‡antasÄ±',
      'ðŸ‘• Spor KÄ±yafeti',
      'ðŸ§¦ Ã‡orap',
      'ðŸ§´ DuÅŸ Jeli',
      'ðŸ§ª Deodorant',
      'ðŸš¿ Havlu',
      'ðŸ’§ Su ÅžiÅŸesi',
      'âŒšï¸ AkÄ±llÄ± Saat',
      'ðŸŽ½ Yedek TiÅŸÃ¶rt',
      'ðŸ§˜â€â™€ï¸ Yoga MatÄ±',
      'ðŸ’ª AÄŸÄ±rlÄ±k Eldivenleri',
      'ðŸ”’ Dolap Kilidi',
      'ðŸŠâ€â™‚ï¸ Bone/GÃ¶zlÃ¼k',
      'ðŸŽ¯ NabÄ±z Ã–lÃ§er',
      'ðŸ§Š Buz TorbasÄ±'
    ],
    'Seyahat': [
      'ðŸ§³ Bavul',
      'ðŸª¥ DiÅŸ FÄ±rÃ§asÄ±',
      'ðŸ§¦ Ã‡orap',
      'ðŸ‘• TiÅŸÃ¶rt',
      'ðŸ§¥ Ceket',
      'ðŸ‘– Pantolon',
      'ðŸ‘™ Mayo',
      'ðŸ“± Telefon Åžarj Aleti',
      'âŒšï¸ Saat Åžarj Aleti',
      'ðŸ›‚ Pasaport',
      'ðŸ’¯ Otel Rezervasyonu',
      'ðŸ—º Harita',
      'ðŸ’Š Ä°lk YardÄ±m Ã‡antasÄ±',
      'ðŸ”’ Valiz Kilidi',
      'ðŸ‘¡ Terlik',
      'ðŸ§´ GÃ¼neÅŸ Kremi',
      'ðŸ“¸ Kamera',
      'ðŸŽ« Biletler',
      'ðŸ’± DÃ¶viz',
      'ðŸ”Œ Seyahat AdaptÃ¶rÃ¼'
    ],
    'SaÄŸlÄ±k': [
      'ðŸ’Š Ä°laÃ§lar',
      'ðŸ˜· Maske',
      'ðŸ’§ El DezenfektanÄ±',
      'ðŸ§¬ Vitaminler',
      'ðŸ©º SaÄŸlÄ±k SigortasÄ± KartÄ±',
      'ðŸŒ¡ AteÅŸ Ã–lÃ§er',
      'ðŸ©¹ Yara BandÄ±',
      'ðŸ§´ Nemlendirici',
      'ðŸ‘“ Yedek GÃ¶zlÃ¼k',
      'ðŸ§ª Lens SolÃ¼syonu',
      'ðŸ’‰ ÅžÄ±rÄ±nga/Ä°ÄŸne (Diyabet)',
      'ðŸ§¬ Alerji Ä°laÃ§larÄ±',
      'ðŸ§» Islak Mendil',
      'ðŸ§ª Test Kitleri'
    ],
    'Elektronik': [
      'ðŸ“± Telefon Åžarj Aleti',
      'ðŸ’» Laptop Åžarj Aleti',
      'ðŸŽ§ KulaklÄ±k',
      'ðŸ”Œ Priz AdaptÃ¶rÃ¼',
      'ðŸ“¸ Kamera',
      'ðŸŽ® Powerbank',
      'ðŸ’¾ Harici Disk',
      'ðŸ”‹ Yedek Pil',
      'ðŸ“¡ WiFi Router',
      'ðŸŽ¤ Mikrofon',
      'ðŸ“º Tablet',
      'âŒ¨ï¸ Kablosuz Klavye',
      'ðŸ–± Kablosuz Mouse',
      'ðŸ“¼ HafÄ±za KartÄ±',
      'ðŸ“¹ Web KamerasÄ±'
    ]
  },
  en: {
    'Daily': [
      'ðŸ”‘ Keys',
      'ðŸ’³ Wallet',
      'ðŸ“± Phone',
      'ðŸ•¶ Glasses',
      'âŒšï¸ Watch',
      'ðŸ”‹ Powerbank',
      'ðŸ§´ Hand cream',
      'ðŸ§¢ Hat',
      'â˜”ï¸ Umbrella',
      'ðŸ§£ Scarf',
      'ðŸ§¤ Gloves',
      'ðŸŽ’ Backpack',
      'ðŸª® Comb/Brush',
      'ðŸ’¦ Water Bottle'
    ],
    'Work/School': [
      'ðŸ’» Laptop',
      'ðŸ“ Notebook',
      'ðŸ–Š Pen',
      'ðŸ“‚ Files',
      'ðŸŽ§ Headphones',
      'ðŸ”Œ Charger',
      'ðŸ’¼ Bag',
      'ðŸ“’ Planner',
      'ðŸ“ Ruler',
      'ðŸ“ Pins',
      'ðŸ“Ž Stapler',
      'ðŸ–¨ Portable Printer',
      'ðŸ” Magnifying Glass',
      'ðŸ“Œ Sticky Notes',
      'ðŸ—„ Folder',
      'ðŸ’¾ USB Drive'
    ],
    'Sports': [
      'ðŸ‘Ÿ Sports Shoes',
      'ðŸ Sports Bag',
      'ðŸ‘• Sports Clothes',
      'ðŸ§¦ Socks',
      'ðŸ§´ Shower Gel',
      'ðŸ§ª Deodorant',
      'ðŸš¿ Towel',
      'ðŸ’§ Water Bottle',
      'âŒšï¸ Smart Watch',
      'ðŸŽ½ Spare T-shirt',
      'ðŸ§˜â€â™€ï¸ Yoga Mat',
      'ðŸ’ª Weight Lifting Gloves',
      'ðŸ”’ Locker Lock',
      'ðŸŠâ€â™‚ï¸ Swimming Cap/Goggles',
      'ðŸŽ¯ Heart Rate Monitor',
      'ðŸ§Š Ice Pack'
    ],
    'Travel': [
      'ðŸ§³ Suitcase',
      'ðŸª¥ Toothbrush',
      'ðŸ§¦ Socks',
      'ðŸ‘• T-shirt',
      'ðŸ§¥ Jacket',
      'ðŸ‘– Pants',
      'ðŸ‘™ Swimsuit',
      'ðŸ“± Phone Charger',
      'âŒšï¸ Watch Charger',
      'ðŸ›‚ Passport',
      'ðŸ’¯ Hotel Reservation',
      'ðŸ—º Map',
      'ðŸ’Š First Aid Kit',
      'ðŸ”’ Luggage Lock',
      'ðŸ‘¡ Slippers',
      'ðŸ§´ Sunscreen',
      'ðŸ“¸ Camera',
      'ðŸŽ« Tickets',
      'ðŸ’± Currency',
      'ðŸ”Œ Travel Adapter'
    ],
    'Health': [
      'ðŸ’Š Medication',
      'ðŸ˜· Mask',
      'ðŸ’§ Hand Sanitizer',
      'ðŸ§¬ Vitamins',
      'ðŸ©º Health Insurance Card',
      'ðŸŒ¡ Thermometer',
      'ðŸ©¹ Band-Aid',
      'ðŸ§´ Moisturizer',
      'ðŸ‘“ Spare Glasses',
      'ðŸ§ª Contact Solution',
      'ðŸ’‰ Syringe/Needle (Diabetes)',
      'ðŸ§¬ Allergy Medicine',
      'ðŸ§» Wet Wipes',
      'ðŸ§ª Test Kits'
    ],
    'Electronics': [
      'ðŸ“± Phone Charger',
      'ðŸ’» Laptop Charger',
      'ðŸŽ§ Headphones',
      'ðŸ”Œ Adapter',
      'ðŸ“¸ Camera',
      'ðŸŽ® Powerbank',
      'ðŸ’¾ External Drive',
      'ðŸ”‹ Spare Batteries',
      'ðŸ“¡ WiFi Router',
      'ðŸŽ¤ Microphone',
      'ðŸ“º Tablet',
      'âŒ¨ï¸ Wireless Keyboard',
      'ðŸ–± Wireless Mouse',
      'ðŸ“¼ Memory Card',
      'ðŸ“¹ Webcam'
    ]
  },
};

// Cached results iÃ§in boÅŸ objeler oluÅŸturalÄ±m
const cachedInitialItems = {};
const cachedCategorizedItems = {};
const cachedCategories = {};

// Veri setlerini asenkron olarak yÃ¼kleme fonksiyonlarÄ±
const loadItems = (language = 'tr') => {
  if (!items[language]) {
    console.warn(`'${language}' dili iÃ§in eÅŸya tanÄ±mlamasÄ± bulunamadÄ±, varsayÄ±lan olarak Ä°ngilizce eÅŸyalar kullanÄ±lÄ±yor.`);
    return items['en']; // VarsayÄ±lan olarak Ä°ngilizce eÅŸyalar
  }
  return items[language];
};

// Kategori listesini dÃ¶ndÃ¼r - performans iyileÅŸtirmesi iÃ§in cache kullanÄ±mÄ±
export const getCategories = (language = 'tr') => {
  try {
    // EÄŸer daha Ã¶nce hesaplanmÄ±ÅŸsa, Ã¶nbelleÄŸi dÃ¶ndÃ¼r
    if (cachedCategories[language]) {
      return cachedCategories[language];
    }
    
    // Dil kodu categories objesinde bir key olarak var mÄ± kontrol et
    if (categories[language]) {
      cachedCategories[language] = categories[language];
      return categories[language];
    }
    
    // EÄŸer dil kodu yoksa ve tr'den farklÄ±ysa console'a warning bas
    if (language !== 'tr') {
      console.warn(`'${language}' dili iÃ§in kategori tanÄ±mlamasÄ± bulunamadÄ±, varsayÄ±lan olarak Ä°ngilizce kategoriler kullanÄ±lÄ±yor.`);
      cachedCategories[language] = categories['en'];
      return categories['en']; // VarsayÄ±lan olarak Ä°ngilizce kategoriler
    }
    
    cachedCategories[language] = categories['tr'];
    return categories['tr']; // Son Ã§are olarak TÃ¼rkÃ§e kategoriler
  } catch (error) {
    console.error("Kategori yÃ¼kleme hatasÄ±:", error);
    return []; // Hata durumunda boÅŸ dizi dÃ¶ndÃ¼r
  }
};

// TÃ¼m eÅŸyalarÄ± dil parametresine gÃ¶re dÃ¶ndÃ¼r (memoized)
export const getInitialItems = (language = 'tr') => {
  try {
    // EÄŸer daha Ã¶nce hesaplanmÄ±ÅŸsa, Ã¶nbelleÄŸi dÃ¶ndÃ¼r
    if (cachedInitialItems[language]) {
      return cachedInitialItems[language];
    }
    
    // Dil kodu items objesinde bir key olarak var mÄ± kontrol et
    const languageItems = loadItems(language);
    const allItems = [];
    
    // TÃ¼m kategorilerdeki eÅŸyalarÄ± birleÅŸtir
    Object.values(languageItems).forEach(categoryItems => {
      if (Array.isArray(categoryItems)) {
        allItems.push(...categoryItems);
      }
    });
    
    // Sonucu Ã¶nbelleÄŸe al
    cachedInitialItems[language] = allItems;
    
    return allItems;
  } catch (error) {
    console.error("Ä°lk eÅŸyalarÄ± yÃ¼kleme hatasÄ±:", error);
    return [];
  }
};

// Kategorilere gÃ¶re gruplandÄ±rÄ±lmÄ±ÅŸ eÅŸyalarÄ± dÃ¶ndÃ¼r (memoized)
export const getCategorizedItems = (language = 'tr') => {
  try {
    // EÄŸer daha Ã¶nce hesaplanmÄ±ÅŸsa, Ã¶nbelleÄŸi dÃ¶ndÃ¼r
    if (cachedCategorizedItems[language]) {
      return cachedCategorizedItems[language];
    }
    
    // Dil kodu items objesinde bir key olarak var mÄ± kontrol et
    let result;
    if (items[language]) {
      result = items[language];
    } else {
      // EÄŸer dil kodu yoksa ve tr'den farklÄ±ysa console'a warning bas
      if (language !== 'tr') {
        console.warn(`'${language}' dili iÃ§in eÅŸya tanÄ±mlamasÄ± bulunamadÄ±, varsayÄ±lan olarak Ä°ngilizce eÅŸyalar kullanÄ±lÄ±yor.`);
        result = items['en']; // VarsayÄ±lan olarak Ä°ngilizce eÅŸyalar
      } else {
        result = items['tr']; // Son Ã§are olarak TÃ¼rkÃ§e eÅŸyalar
      }
    }
    
    // Sonucu Ã¶nbelleÄŸe al
    cachedCategorizedItems[language] = result;
    
    return result;
  } catch (error) {
    console.error("Kategorize eÅŸyalarÄ± yÃ¼kleme hatasÄ±:", error);
    return {};
  }
};

// Ã–nbelleÄŸi temizleme fonksiyonu - gerektiÄŸinde Ã§aÄŸrÄ±labilir
export const clearItemCache = () => {
  Object.keys(cachedInitialItems).forEach(key => delete cachedInitialItems[key]);
  Object.keys(cachedCategorizedItems).forEach(key => delete cachedCategorizedItems[key]);
  Object.keys(cachedCategories).forEach(key => delete cachedCategories[key]);
};
